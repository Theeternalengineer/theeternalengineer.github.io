<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>With love, Gen</title>

  <!-- CSS externo -->
  <link rel="stylesheet" href="style.css?v=4">
</head>

<body>

  <!-- PRIMERA SECCIÓN: SOLO FONDO + TEXTO -->
  <section id="hero">
    <h1>
      Feliz navidad, quesadilla❤️<br><br>
      <span class="subtitle">
        Todo esto fue hecho con amor, dedicación y mucho café...
      </span><br><br>
      <span class="signature">
        -With love, Gen
      </span>
    </h1>
  </section>

  <!-- SEGUNDA SECCIÓN: INTERACTIVA -->
  <section id="start">
    <h2>¿Comenzamos?</h2>

    <!-- Botones más vistosos (clases para estilo) -->
    <div class="choice-buttons">
      <button id="yes" type="button" class="btn sipiriri">Sipiriri</button>
      <button id="no" type="button" class="btn nopororo">Nopororo</button>
    </div>
  </section>

  <!-- JS: botón no juguetón + corazones + redirección -->
  <script>
    const noBtn = document.getElementById("no");
    const yesBtn = document.getElementById("yes");

    // Corazoncitos (burst) al click
    function hearts(e) {
      const count = 14;
      for (let i = 0; i < count; i++) {
        const heart = document.createElement("div");
        heart.className = "heart";
        document.body.appendChild(heart);

        const angle = Math.random() * Math.PI * 2;
        const radius = 10 + Math.random() * 34;

        const x = e.clientX + Math.cos(angle) * radius + (Math.random() * 10 - 5);
        const y = e.clientY + Math.sin(angle) * radius + (Math.random() * 10 - 5);

        heart.style.left = x + "px";
        heart.style.top = y + "px";

        // Variación sutil de tamaño
        const scale = 0.75 + Math.random() * 0.9;
        heart.style.setProperty("--hscale", scale);

        // Variación sutil de deriva
        const drift = (Math.random() * 60 - 30).toFixed(0) + "px";
        heart.style.setProperty("--drift", drift);

        setTimeout(() => heart.remove(), 1700);
      }
    }

    // Botón "No" juguetón (huye). En mobile toca para que se mueva.
    function moveNoButton() {
      const x = Math.random() * 220 - 110;
      const y = Math.random() * 180 - 90;
      noBtn.style.transform = `translate(${x}px, ${y}px)`;
    }

    noBtn.addEventListener("mouseenter", moveNoButton);
    noBtn.addEventListener("touchstart", (ev) => {
      ev.preventDefault();
      moveNoButton();
    }, { passive: false });

    // Botón "Sí" -> corazoncitos + ir a wrapped
    yesBtn.addEventListener("click", (e) => {
      hearts(e);
      // Delay corto para que se vea el efecto antes de redirigir
      setTimeout(() => {
        window.location.href = "wrapped.html";
      }, 450);
    });
  </script>

</body>
</html>
